<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="CS411 Project">
		<meta name="author" content="Hammad Ali, Anna Liu, David Zhu">
		<title>CS411 Crime Database</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

		<!-- Favicons -->
		<link rel="apple-touch-icon" href="/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
		<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
		<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
		<link rel="manifest" href="/docs/5.0/assets/img/favicons/manifest.json">
		<link rel="mask-icon" href="/docs/5.0/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
		<link rel="icon" href="/docs/5.0/assets/img/favicons/favicon.ico">
		<meta name="theme-color" content="#7952b3">


		<style>
			<!-- CSS goes here -->
			::selection {
				background: rgba(255, 134, 0, 0.4);
			}
			::-moz-selection {
				background: rgba(255, 134, 0, 0.4);
			}
		</style>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	
	<body>
    
		<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
			<symbol id="bootstrap" viewBox="0 0 118 94">
				<title>Bootstrap</title>
				<path fill-rule="evenodd" fill="currentColor" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"></path>
			</symbol>
		  
			<symbol id="home" viewBox="0 0 16 16">
				<path fill="currentColor" d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
			</symbol>
		  
			<symbol id="speedometer2" viewBox="0 0 16 16">
				<path fill="currentColor" d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"/>
				<path fill="currentColor" fill-rule="evenodd" d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"/>
			</symbol>
		  
			<symbol id="table" viewBox="0 0 16 16">
				<path fill="currentColor" d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
			</symbol>

			<symbol id="grid" viewBox="0 0 16 16">
				<path fill="currentColor" d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
			</symbol>

			<symbol id="people-circle" viewBox="0 0 16 16">
				<path fill="currentColor" d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
				<path fill="currentColor" fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
			</symbol>

			<symbol id="database" viewBox="0 0 16 16">
				<path fill-rule="evenodd" fill="currentColor" clip-rule="evenodd" d="M4.318 2.687C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4c0-.374.356-.875 1.318-1.313ZM13 5.698V7c0 .374-.356.875-1.318 1.313C10.766 8.729 9.464 9 8 9s-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777A4.92 4.92 0 0 0 13 5.698ZM14 4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13V4Zm-1 4.698V10c0 .374-.356.875-1.318 1.313C10.766 11.729 9.464 12 8 12s-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777A4.92 4.92 0 0 0 13 8.698Zm0 3V13c0 .374-.356.875-1.318 1.313C10.766 14.729 9.464 15 8 15s-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13s3.022-.289 4.096-.777c.324-.147.633-.323.904-.525Z"/>
			</symbol>

			<symbol id="info" viewBox="0 0 16 16">
				<path fill="currentColor" d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
				<path fill="currentColor" d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
			</symbol>

			<symbol id="map" viewBox="0 0 16 16">
				<path fill="currentColor" d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
			</symbol>
		</svg>

		<main>
			<!-- Use viewport height adjustment to fill screen space. For modern browsers only -->
			<div class="container-fluid">
				<div class = "row flex-nowrap">
					<div class="d-flex flex-column flex-shrink-0 p-3 min-vh-100 text-white bg-dark" style="width:280px;">
						<a class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
							<svg class="bi me-2" width="40" height="40"><use xlink:href="#database"/></svg>
							<span class="fs-4">CS411 Project</span>
						</a>
						
						<hr>
						<ul class="nav nav-pills flex-column mb-auto">
							<li class="nav-item">
								<a href="#" class="nav-link active" aria-current="page" role="GoHome" action="GoHome">
									<svg class="bi me-2" width="16" height="16"><use xlink:href="#home"/></svg>
									Home
								</a>
							</li>

							<li>
								<a href="about.ejs" class="nav-link text-white" role="GoAbout" action="GoAbout">
									<svg class="bi me-2" width="16" height="16"><use xlink:href="#info"/></svg>
									About
								</a>
							</li>

						</ul>
						
					</div>
					<div class = "col py-3" style="background-color: #f8f9fa;">
						<h2 class = "" style="margin-left: 1px; margin-bottom: 17px;">Home</h2>
						<hr>
						
						<form class="d-flex px-5" role="search" action="search" method="POST">
							<input name = "idSearchBar" id="idSearchBar" class="form-control me-2" type="search" placeholder="Enter Area Name" aria-label="Search">
							<button id="idSearchButton" class="btn btn-outline-primary" type="submit">Search</button>
						</form>
						<br>
						<form class="d-flex px-5" role="add" action="add" method="POST">
							<input name = "idAddBar" id="idAddBar" class="form-control me-2" type="search" placeholder="Enter CrimeID" aria-label="Insert">
							<input name = "idAddBar2" id="idAddBar2" class="form-control me-2" type="search" placeholder="Enter LocationID" aria-label="Insert">
							<input name = "idAddBar3" id="idAddBar3" class="form-control me-2" type="search" placeholder="Enter Time" aria-label="Insert">
							<button id="idAddButton" class="btn btn-outline-secondary ms-1" type="submit">Add</button>
                                                </form>
						<br>
						<form class="d-flex px-5" role="remove" action="remove" method="POST">
                                                        <input name = "idRemoveBar" id="idRemoveBar" class="form-control me-2" type="search" placeholder="Enter CrimeID" aria-label="Remove">
							<button id="idRemoveButton" class="btn btn-outline-danger ms-1" type="submit">Remove</button>
						</form>
						<br>
						<form class="d-flex px-5" role="update" action="update" method="POST">
                                                        <input name = "idUpdateBar" id="idUpdateBar" class="form-control me-2" type="search" placeholder="Enter CrimeID" aria-label="Update">
                                                        <input name = "idUpdateBar2" id="idUpdateBar2" class="form-control me-2" type="search" placeholder="Enter New Time" aria-label="Update">
							<button id="idUpdateButton" class="btn btn-outline-success ms-1" type="submit">Update</button>
                                                </form>
						<br>
						<form class="d-flex px-5" role="aq2" action="aq2" method="POST">
							<input name = "idAq2Bar" id="idAq2Bar" class="form-control me-2 w-25" type="search" placeholder="Enter Area Name" aria-label>
                                                        <input name = "idAq2Bar2" id="idAq2Bar2" class="form-control me-2 w-25" type="search" placeholder="Enter Sex (F/M)" aria-la>
                                                        <button id="idAq2Button" class="btn btn-outline-warning ms-1" type="submit">AdvQ2: Set Operations, Subqueries, and JOIN</button>
                                                </form>
						<br>
						<form class="d-flex px-5" role="show" action="show" method="POST">
                                                        <input name = "idShowBar" id="idShowBar" class="form-control me-2 w-75" type="search" placeholder="Enter Area Name" aria-label>

                                                        <button id="idShowButton" class="btn btn-outline-dark ms-1" type="submit">Show Types</button>
                                                </form>
						<br>
						<form class="d-flex px-5" role="aq1" action="aq1" method="POST">
                                                        <button id="idAq1Button" class="btn btn-outline-info ms-1" type="submit">AdvQ1: Show areas and crime count (GROUP BY and JOIN)</button>
                                                </form>

						<p><%= command %></p>
						<% if (data) { %>
						<p>Length: <%= data.length %></p>
						<br>
						
						<div class="table-responsive" style="height="500px; overflow-y: scroll;">
						<table class="table table-striped table-hover">
						  <thead>
						    <% if (data[0].Count) {%>
						      <tr>
							<th scope="col">Area Name</th>
						        <th scope="col">Count</th>
						      </tr>
						    <% } else if (chartData == 8) {%>
						      <tr>
							<th scope="col">TypeID</th>
							<th scope="col">TypeName</th>
                                                        <th scope="col">Total Count</th>
                                                      </tr>
						    <% } else {%>
						      <tr>
						        <th scope="col">CrimeID</th>
						        <th scope="col">Address</th>
						        <th scope="col">Type Name</th>
						        <th scope="col">Time</th>
						      </tr>
						    <% } %>
						  </thead>
						  <tbody>
						    <% if (data) { %>
						      <% if (data[0].Count) {%>
							<% for (var i = 0; i < data.length; i++) { %>
							  <tr> <td> <%= data[i].AreaName %></td> <td><%= data[i].Count %> </td> </tr>
							<% } %>
						      <% } else if (chartData == 8) {%>
                                                        <% for (var i = 0; i < data.length - 1; i++) { %>
                                                          <tr> <td> <%= data[i][0]['TypeID'] %></td> <td> <%= data[i][0]['TypeName'] %></td> <td> <%= data[i][0]['Total Count'] %> </td> </tr>
                                                        <% } %>
						      <% } else {%>
							<% for (var i = 0; i < data.length; i++) { %>
							  <tr> <td> <%= data[i].CrimeID %></td> <td><%= data[i].Address %></td> <td><%= data[i].TypeName %></td> <td><%= data[i].Time %></td> </tr>	
							<% } %>
						      <% } %>
						    <% } %>
						  </tbody>
						</table>
						<% } %>
						</div>

					</div>
                                </div>
			</div>
		</main>
	</body>
</html>
